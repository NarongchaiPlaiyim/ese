<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">
    <h:head>
        <h:outputStylesheet name="css/style.css" />
        <h:outputScript library="js" name="custom.js" />
    </h:head>
    <p:panel id="productPanel" styleClass="panel-dialog">
        <h:form id="frmFindProduct">
            <table  border="0">
                <tr>
                    <td style="width: 160px">
                        <p:selectOneMenu
                                value="#{barcodeRegisterBean.selectType}"
                                style="min-width: 150px; width: 150px; max-width: 150px; margin-top: 4px">
                            <f:selectItem itemLabel="Product Description" itemValue="3"/>
                            <f:selectItem itemLabel="Product Name" itemValue="1"/>
                            <f:selectItem itemLabel="Product Code" itemValue="2"/>
                        </p:selectOneMenu>
                    </td>
                    <td>
                        <p:inputText
                                style="min-width: 200px; width: 200px; max-width: 200px;"
                                value="#{barcodeRegisterBean.productSearch}"
                                />
                        <p:commandButton value="Search"
                                         styleClass="medium" style="width: 80px"
                                         icon="ui-icon-search"
                                         onstart="PF('bui').show()"
                                         action="#{barcodeRegisterBean.onSubmitSearch()}"
                                         update=":frmFindProduct:productTable"
                                         oncomplete="PF('bui').hide()"
                                />
                    </td>
                    <td class="right">
                    </td>
                </tr>
                <tr>
                    <td colspan="3">
                        <p:dataTable id="productTable"
                                     rows="6"
                                     paginator="true"
                                     var="itemModel"
                                     selectionMode="single"
                                     rowKey="#{itemModel.id}"
                                     selection="#{barcodeRegisterBean.msItemModel}"
                                     value="#{barcodeRegisterBean.msItemModelList}"
                                     rowIndexVar="rowIndex">
                            <p:ajax event="rowSelect" update=":frmFindProduct:productTable, :frmFindProduct:btnSelect"
                                    listener="#{barcodeRegisterBean.onClickTable()}"/>
                            <p:column headerText="No" style="min-width: 10px; width: 10px; max-width: 10px;" styleClass="right">
                                <p:outputLabel value="#{rowIndex+1}"/>
                            </p:column>
                            <p:column headerText="Product Name" style="min-width: 150px; width: 150px; max-width: 150px;">
                                <p:outputLabel value="#{itemModel.itemName}"/>
                            </p:column>
                            <p:column headerText="Product Code" style="min-width: 100px; width: 100px; max-width: 100px;" styleClass="center">
                                <p:outputLabel value="#{itemModel.itemId}"/>
                            </p:column>
                            <p:column headerText="Product Description" style="min-width: 250px; width: 250px; max-width: 250px;">
                                <p:outputLabel value="#{itemModel.DSGThaiItemDescription}"/>
                            </p:column>
                        </p:dataTable>
                    </td>
                </tr>
                <tr>
                    <td class="right" colspan="3">
                        <p:commandButton
                                id="btnSelect"
                                value="Select"
                                disabled="#{barcodeRegisterBean.flagBtnSelect}"
                                         styleClass="medium" style="width: 80px"
                                         oncomplete="PF('findProductDlg').hide()"
                                         update=":setupForm:itemLabel"
                                />
                    </td>
                </tr>
            </table>
        </h:form>
    </p:panel>
</f:view>
</html>